<mat-toolbar>
  <span>{{ modulo.label }}</span>
  <div style="width: 100%;">
    <button type="button" (click)="backClicked()" mat-raised-button color="warn" style="float: right">
      <mat-icon>arrow_back</mat-icon>
      <span>Atr√°s</span>
    </button>
  </div>
</mat-toolbar>

<div class="container" style="margin-top: 25px">
  <div class="row">
    <div class="col-md-12">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Formulario de Registro</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="row" style="margin: 0 16px">
            <form autocomplete="off" #myForm="ngForm" [formGroup]="form" (ngSubmit)="guardarDatos(myForm)">
              <div *ngFor="let control of controles">
                <div [class]="control.gridClass" style="margin-top: 10px">
                  <div *ngIf="
                      control.controlType == 'input' &&
                      control.inputType != 'date' &&
                      control.inputType != 'dni'
                    ">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>{{ control.label }}</mat-label>
                      <input matInput [type]="control.inputType ? control.inputType : 'text'" [formControlName]="
                          'control-' +
                          control.inputType +
                          '-' +
                          control.idControl
                        " />
                    </mat-form-field>
                  </div>
                  <div *ngIf="
                      control.controlType == 'input' &&
                      control.inputType == 'date'
                    ">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>{{ control.label }}</mat-label>
                      <input matInput [type]="'text'" [formControlName]="
                          'control-' +
                          control.inputType +
                          '-' +
                          control.idControl
                        " [matDatepicker]="picker" readonly />
                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                      <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                  </div>
                  <div *ngIf="
                      control.controlType == 'input' &&
                      control.inputType == 'dni'
                    ">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>{{ control.label }}</mat-label>
                      <input matInput [type]="'text'" [formControlName]="
                          'control-' +
                          control.inputType +
                          '-' +
                          control.idControl
                        " />
                    </mat-form-field>
                  </div>
                  <div *ngIf="control.controlType == 'textarea'">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>{{ control.label }}</mat-label>
                      <textarea rows="3" matInput [formControlName]="
                          'control-' +
                          control.inputType +
                          '-' +
                          control.idControl
                        "></textarea>
                    </mat-form-field>
                  </div>
                  <div *ngIf="control.controlType == 'select'">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>{{ control.label }}</mat-label>
                      <mat-select [formControlName]="
                          'control-' +
                          control.inputType +
                          '-' +
                          control.idControl
                        ">
                        <mat-option *ngFor="let opcion of control.opciones" [value]="opcion.key">
                          {{ opcion.value }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="col-md-12" style="margin-top: 15px; text-align: right">
                <button type="submit" mat-raised-button color="warn">
                  <mat-icon>save</mat-icon>
                  <span>Guardar</span>
                </button>
                <button type="button" (click)="resetFormulario(myForm)" mat-raised-button color="primary"
                  style="margin: 0 8px">
                  <mat-icon>refresh</mat-icon>
                  <span>Limpiar</span>
                </button>
              </div>
            </form>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>